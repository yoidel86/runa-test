<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>custom.js</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            custom.js
        </h1>
        <ul class="files">
            <li>app/assets/javascript/custom.js</li>
            <li>Last modified: 2019-02-20 16:48:53 -0500</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>var dialog_form = `&lt;div id=“dialog-form” title=“Crear nuevo usuario”&gt;</p>

<pre><code>  &lt;p class=&quot;validateTips&quot;&gt;Todos son requeridos.&lt;/p&gt;
  &lt;form&gt;
    &lt;fieldset&gt;
      &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;
      &lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; class=&quot;form-control&quot;&gt;
      &lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt;
      &lt;input type=&quot;text&quot; name=&quot;email&quot; id=&quot;email&quot;  class=&quot;form-control&quot;&gt;
      &lt;label for=&quot;password&quot;&gt;Password&lt;/label&gt;
      &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot;  class=&quot;form-control&quot;&gt;
      &lt;label for=&quot;password_confirmation&quot;&gt;Confirmar Password&lt;/label&gt;
      &lt;input type=&quot;password&quot; name=&quot;password_confirmation&quot; id=&quot;password_confirmation&quot;  class=&quot;form-control&quot;&gt;
      &lt;!-- Allow form submission with keyboard without duplicating the dialog button --&gt;
      &lt;input type=&quot;submit&quot; tabindex=&quot;-1&quot; style=&quot;position:absolute; top:-1000px&quot;&gt;
    &lt;/fieldset&gt;
  &lt;/form&gt;
&lt;/div&gt;`;
</code></pre>

<p>function loadIndex(load_to) {</p>

<pre><code>$.ajax({
    url: routes[&quot;index&quot;],
    type: &quot;GET&quot;,
    beforeSend: function (xhr) {
        xhr.setRequestHeader(&quot;Authorization&quot;, sessionStorage.getItem(&quot;auth_token&quot;))
    },
    success: function (content) {
        $(load_to).html(content);
    }
});
</code></pre>

<p>}</p>

<p>function loadUsers(){</p>

<pre><code>$.ajax({
    url: routes[&quot;users&quot;],
    type: &quot;GET&quot;,
    beforeSend: function (xhr) {
        xhr.setRequestHeader(&quot;Authorization&quot;, sessionStorage.getItem(&quot;auth_token&quot;))
    },
    success: function (content) {
        console.log(content)
        $(&quot;.subtitle&quot;).html(&quot;USUARIOS&quot;);
        var table_content = ``;
        $.each(content.users,function(i,val){
            table_content += `&lt;tr&gt;&lt;td&gt;${val.name}&lt;/td&gt;&lt;td&gt;${val.email}&lt;/td&gt;
                &lt;td&gt;&lt;a href=&quot;#delete&quot; class=&quot;remove&quot; data-id=&quot;${val.id}&quot;&gt;X&lt;/a&gt;&lt;/td&gt;
                &lt;/tr&gt;`;
        });
        var userTable = `
            &lt;table class=&quot;table&quot;&gt;
            &lt;thead&gt;&lt;th&gt;Nombre&lt;/th&gt;&lt;th&gt;Correo&lt;/th&gt;&lt;th&gt;Acciones&lt;/th&gt;&lt;/thead&gt;
            &lt;tbody id=&quot;users_body&quot;&gt;${table_content}&lt;/tbody&gt;
            &lt;/table&gt;
            &lt;br&gt;
            &lt;div class=&quot;btn btn-info&quot; id=&quot;add_user&quot;&gt; Crear Usuario &lt;/div&gt;
            ${dialog_form}
        `;

        $(&quot;.dashboard_content&quot;).html(userTable);
        var dialog = $( &quot;#dialog-form&quot; ).dialog({
            autoOpen: false,
            height: 400,
            width: 350,
            modal: true,
            buttons:
                [
                    {
                        text: &quot;Submit&quot;,
                        &quot;class&quot;: &#39;btn btn-info&#39;,
                        click: function() {
                            addUser();
                            $(this).dialog(&quot;close&quot;);
                        }
                    },
                    {
                        text: &quot;Cancel&quot;,
                        &quot;class&quot;: &#39;btn btn-default&#39;,
                        click: function() {
                            $(this).dialog(&quot;close&quot;);
                        }
                    }
                ]
        });
        $(&quot;#add_user&quot;).click(function(){
            dialog.dialog( &quot;open&quot; );
        })

    }
});
</code></pre>

<p>} function addUser(){</p>

<pre><code>var name = $(&quot;#name&quot;).val();
var email = $(&quot;#email&quot;).val();
var password = $(&quot;#password&quot;).val();
var password_confirm = $(&quot;#password_confirm&quot;).val();
$.ajax({
    url: routes[&quot;create&quot;],
    data:{name:name,email:email,password:password,password_confirm:password_confirm},
    type: &quot;POST&quot;,
    beforeSend: function (xhr) {
        xhr.setRequestHeader(&quot;Authorization&quot;, sessionStorage.getItem(&quot;auth_token&quot;))
    },
    success: function (val) {
        $(&quot;#users_body&quot;).append(`&lt;tr&gt;&lt;td&gt;${val.name}&lt;/td&gt;&lt;td&gt;${val.email}&lt;/td&gt;
                &lt;td&gt;&lt;a href=&quot;#delete&quot; class=&quot;remove&quot; data-id=&quot;${val.id}&quot;&gt;X&lt;/a&gt;&lt;/td&gt;
                &lt;/tr&gt;`);
        console.log(content);
    }}
);
</code></pre>

<p>} function loadCharts(){</p>

<pre><code>console.log(&quot;ESTO NO SE LLAMA NUNCA&quot;);
$(&#39;#chart1&#39;).easyPieChart({
    size:180,
    barColor:&#39;#3ba0ff&#39;,
    lineWidth:5,
});

$(&#39;#chart2&#39;).easyPieChart({
    size:180,
    barColor:&#39;#57BE85&#39;,
    lineWidth:5,
});

$(&#39;#chart3&#39;).easyPieChart({
    size:180,
    barColor:&#39;#ff6c60&#39;,
    lineWidth:5,
});
window.chart = c3.generate({
    bindto: &#39;#spline-chart&#39;,
    data: {
        columns: [
            [&#39;Speed&#39;, 210, 170, 145, 200, 220, 210],
            [&#39;Time&#39;, 130, 100, 130, 180, 150, 50],
            [&#39;Visitors&#39;, 80, 110, 70, 150, 110, 140],
        ],
        types: {
            Speed: &#39;area-spline&#39;,
            Time: &#39;spline&#39;,
            Visitors:&#39;area-spline&#39;
        }
    },
    color: {
        pattern: [&#39;#57BE85&#39;,&#39;#ff6c60&#39;,&#39;#3ba0ff&#39;]
    },
    size: {
        height: 300
    },
});
</code></pre>

<p>}</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
    
    
    
  
</div>

    </div>
  </body>
</html>
